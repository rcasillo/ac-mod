[HEADER]
VERSION=1
POWER_CURVE=power.lut
COAST_CURVE=FROM_COAST_REF

[ENGINE_DATA]
; BMW B58 3.0L twin-scroll turbocharged inline-6
; With AWE Catback Exhaust
; 398 WHP @ 5800 RPM (+16 whp from exhaust)
; 516 Nm @ 1800-5000 RPM (+16 Nm from exhaust)
ALTITUDE_SENSITIVITY=0.1
INERTIA=0.12
LIMITER=7000
RPM_THRESHOLD=6900
LIMITER_HZ=50
MINIMUM=850
DEFAULT_TURBO_ADJUSTMENT=1

[COAST_REF]
RPM=7000
TORQUE=85
NON_LINEARITY=0

[COAST_DATA]
COAST0=0
COAST1=0
COAST=0.0000012

[COAST_CURVE]
FILENAME=coast.lut

[TURBO_0]
; B58 twin-scroll turbo characteristics
; Boost builds quickly due to twin-scroll design
LAG_DN=0.985
LAG_UP=0.992
; Peak boost ~1.0 bar (14.5 psi) - produces multiplier of 2.0
; Final torque = base torque × (1 + MAX_BOOST)
; 250 Nm base × 2.0 = 500 Nm peak
MAX_BOOST=1.0
WASTEGATE=1.0
DISPLAY_MAX_BOOST=1.0
; Full boost achieved by 1800 RPM
REFERENCE_RPM=1800
; Lower gamma = boost comes on sooner and stronger
GAMMA=1.8
COCKPIT_ADJUSTABLE=0

[DAMAGE]
TURBO_BOOST_THRESHOLD=1.4
TURBO_DAMAGE_K=5
RPM_THRESHOLD=7400
RPM_DAMAGE_K=1
